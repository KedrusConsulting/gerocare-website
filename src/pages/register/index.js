import Head from "next/head";
import Logo from "@/components/Logo";
import ProgressBar from "@/components/ProgressBar";
import FormikStepper, { FormikStep } from "@/components/FormikStepper";
import * as Yup from "yup";
import { useContext, useState } from "react";
import { ProgressContext } from "@/context/progress";
import InputField from "@/components/InputField";

const Register = () => {
  const { progress } = useContext(ProgressContext);
  const [formikState, setFormikState] = useState();

  const getFormikState = (values) => {
    setFormikState(values);
  };

  const initialValues = {
    firstname: "",
    lastname: "",
    email: "",
    password: "",
    confirmPassword: "",
  };

  const onSubmit = async (values, { resetForm }, onSubmitProps) => {
    console.log(values);
  };

  return (
    <>
      <Head>
        <title>GeroCare - Register</title>
        <meta name="description" content="Generated by create next app" />
        <meta name="viewport" content="width=device-width, initial-scale=1" />
        <link rel="icon" href="/favicon.ico" />
        <link rel="preconnect" href="https://fonts.googleapis.com" />
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
        <link
          href="https://fonts.googleapis.com/css2?family=DM+Serif+Display&display=swap"
          rel="stylesheet"
        />
      </Head>

      <nav className="register__nav">
        <div className="row">
          <Logo />

          <div className="register__progress">
            <ProgressBar value={progress} />
          </div>

          <div className="register__empty">
            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
          </div>
        </div>
      </nav>

      <FormikStepper initialValues={initialValues} onSubmit={onSubmit}>
        <FormikStep
          validationSchema={Yup.object().shape({
            firstname: Yup.string().required(),
            lastname: Yup.string().required(),
            email: Yup.string().email().required(),
            password: Yup.string().required(),
            confirmPassword: Yup.string().required(),
          })}
        >
          <div className="register__form">
            <div className="register__header">
              <h2 className="heading heading--2">Create an account for free</h2>

              <p>
                It just takes a few minutes to sign up and get fast, easy access
                to care, 24/7. No need for your insurance card yet.
              </p>
            </div>

            <div className="form__flex">
              <InputField
                type={"text"}
                id={"firstname"}
                name={"firstname"}
                label={"Full name"}
                placeholder={"First name"}
              />

              <InputField
                type={"text"}
                id={"lastname"}
                name={"lastname"}
                label={""}
                placeholder={"Last name"}
              />
            </div>

            <InputField
              type={"email"}
              id={"email"}
              name={"email"}
              label={"Email Address"}
              placeholder={"same@gmail.com"}
            />

            <InputField
              type={"password"}
              id={"password"}
              name={"password"}
              label={"Create Password"}
              placeholder={"**************"}
            />

            <InputField
              type={"password"}
              id={"confirmPassword"}
              name={"confirmPassword"}
              label={"Confirm Password"}
              placeholder={"**************"}
            />
          </div>
        </FormikStep>
        <FormikStep>Step 2</FormikStep>
        <FormikStep>Step 3</FormikStep>
      </FormikStepper>
    </>
  );
};

export default Register;
